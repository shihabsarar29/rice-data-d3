{"ast":null,"code":"var _jsxFileName = \"/Users/shihab/StudioProjects/rice-d3/rice-d3/src/components/barChart1/BarChart1.js\",\n    _s = $RefreshSig$();\n\nimport { useD3 } from '../hooks/useD3';\nimport React from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction BarChart(_ref) {\n  _s();\n\n  let {\n    data\n  } = _ref;\n  const ref = useD3(svg => {\n    const height = 500;\n    const width = 500;\n    const margin = {\n      top: 20,\n      right: 30,\n      bottom: 30,\n      left: 40\n    };\n    const x = d3.scaleBand().ordinal().rangePoints([0, width]); // .scaleBand()\n    // .domain(data.map((d) => d.year))\n    // .rangeRound([margin.left, width - margin.right])\n    // .padding(0.1);\n\n    const y1 = d3.scaleLinear().domain([0, d3.max(data, d => d.sales)]).rangeRound([height - margin.bottom, margin.top]);\n\n    const xAxis = g => g.attr(\"transform\", `translate(0,${height - margin.bottom})`).call(d3.axisBottom(x).tickValues(d3.ticks(...d3.extent(x.domain()), width / 40).filter(v => x(v) !== undefined)).tickSizeOuter(0));\n\n    const y1Axis = g => g.attr(\"transform\", `translate(${margin.left},0)`).style(\"color\", \"steelblue\").call(d3.axisLeft(y1).ticks(null, \"s\")).call(g => g.select(\".domain\").remove()).call(g => g.append(\"text\").attr(\"x\", -margin.left).attr(\"y\", 10).attr(\"fill\", \"currentColor\").attr(\"text-anchor\", \"start\").text(data.y1));\n\n    svg.select(\".x-axis\").call(xAxis);\n    svg.select(\".y-axis\").call(y1Axis);\n    svg.select(\".plot-area\").attr(\"fill\", \"steelblue\").selectAll(\".bar\").data(data).join(\"rect\").attr(\"class\", \"bar\").attr(\"x\", d => x(d.year)).attr(\"width\", x.bandwidth()).attr(\"y\", d => y1(d.sales)).attr(\"height\", d => y1(0) - y1(d.sales));\n  }, [data.length]);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: ref,\n    style: {\n      height: 500,\n      width: \"100%\",\n      marginRight: \"0px\",\n      marginLeft: \"0px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"plot-area\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"x-axis\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n      className: \"y-axis\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n\n_s(BarChart, \"r127xTdrGuIqcYXTmMbvPxoKAyo=\", false, function () {\n  return [useD3];\n});\n\n_c = BarChart;\nexport default BarChart;\n\nvar _c;\n\n$RefreshReg$(_c, \"BarChart\");","map":{"version":3,"sources":["/Users/shihab/StudioProjects/rice-d3/rice-d3/src/components/barChart1/BarChart1.js"],"names":["useD3","React","d3","BarChart","data","ref","svg","height","width","margin","top","right","bottom","left","x","scaleBand","ordinal","rangePoints","y1","scaleLinear","domain","max","d","sales","rangeRound","xAxis","g","attr","call","axisBottom","tickValues","ticks","extent","filter","v","undefined","tickSizeOuter","y1Axis","style","axisLeft","select","remove","append","text","selectAll","join","year","bandwidth","length","marginRight","marginLeft"],"mappings":"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","sourcesContent":["import { useD3 } from '../hooks/useD3';\nimport React from 'react';\nimport * as d3 from 'd3';\n\nfunction BarChart({ data }) {\n  const ref = useD3(\n    (svg) => {\n      const height = 500;\n      const width = 500;\n      const margin = { top: 20, right: 30, bottom: 30, left: 40 };\n\n      const x = d3.scaleBand().ordinal().rangePoints([0, width]);\n        // .scaleBand()\n        // .domain(data.map((d) => d.year))\n        // .rangeRound([margin.left, width - margin.right])\n        // .padding(0.1);\n\n      const y1 = d3\n        .scaleLinear()\n        .domain([0, d3.max(data, (d) => d.sales)])\n        .rangeRound([height - margin.bottom, margin.top]);\n\n      const xAxis = (g) =>\n        g.attr(\"transform\", `translate(0,${height - margin.bottom})`).call(\n          d3\n            .axisBottom(x)\n            .tickValues(\n              d3\n                .ticks(...d3.extent(x.domain()), width / 40)\n                .filter((v) => x(v) !== undefined)\n            )\n            .tickSizeOuter(0)\n        );\n\n      const y1Axis = (g) =>\n        g\n          .attr(\"transform\", `translate(${margin.left},0)`)\n          .style(\"color\", \"steelblue\")\n          .call(d3.axisLeft(y1).ticks(null, \"s\"))\n          .call((g) => g.select(\".domain\").remove())\n          .call((g) =>\n            g\n              .append(\"text\")\n              .attr(\"x\", -margin.left)\n              .attr(\"y\", 10)\n              .attr(\"fill\", \"currentColor\")\n              .attr(\"text-anchor\", \"start\")\n              .text(data.y1)\n          );\n\n      svg.select(\".x-axis\").call(xAxis);\n      svg.select(\".y-axis\").call(y1Axis);\n\n      svg\n        .select(\".plot-area\")\n        .attr(\"fill\", \"steelblue\")\n        .selectAll(\".bar\")\n        .data(data)\n        .join(\"rect\")\n        .attr(\"class\", \"bar\")\n        .attr(\"x\", (d) => x(d.year))\n        .attr(\"width\", x.bandwidth())\n        .attr(\"y\", (d) => y1(d.sales))\n        .attr(\"height\", (d) => y1(0) - y1(d.sales));\n    },\n    [data.length]\n  );\n\n  return (\n    <svg\n      ref={ref}\n      style={{\n        height: 500,\n        width: \"100%\",\n        marginRight: \"0px\",\n        marginLeft: \"0px\",\n      }}\n    >\n      <g className=\"plot-area\" />\n      <g className=\"x-axis\" />\n      <g className=\"y-axis\" />\n    </svg>\n  );\n}\n\nexport default BarChart;"]},"metadata":{},"sourceType":"module"}